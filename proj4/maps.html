<!DOCTYPE html>
<html>
	<head lang="en">
		<meta charset="utf-8" />
		<title>Maps with LeafletJS</title>
		<link rel="stylesheet" type="text/css" href="maps.css" />

		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css" />
		<script>
		</script>

	</head>
<body>
<div id="map"></div>
<script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script>
<script src="http://www.mapquestapi.com/sdk/leaflet/v2.s/mq-map.js?key=KM4sDe5QGtHmGxLIm6LoMhYLQ7AkGrGY"></script>
<script src="http://www.mapquestapi.com/sdk/leaflet/v2.s/mq-geocoding.js?key=KM4sDe5QGtHmGxLIm6LoMhYLQ7AkGrGY"></script>

<script type="text/javascript">
	var popup = L.popup(),
		geocode,
		map;
	var map = L.map('map', {
  layers: MQ.mapLayer(),
  center: [44.0459,-123.1006],
  zoom: 14 })
  .on('click', function(e) {
    popup.setLatLng(e.latlng).openOn(this);

  geocode.reverse(e.latlng);
});
  geocode = MQ.geocode().on('success', function(e) {
  popup.setContent(geocode.describeLocation(e.result.best));
});
	var osm = 'http://{s}.tile.osm.org/{z}/{x}/{y}.png';

	//L.tileLater(osm).addTo(map);
	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'vf-uo.cig2odthi1ec1t9kvkewpw9ux',
    accessToken: 'pk.eyJ1IjoidmYtdW8iLCJhIjoiY2lnMm9kdXEzMWVldnUxbTMzN3B2MXZ4dCJ9.ZQtrvAiFMu2OrjFBU_ZalA',
	}).addTo(map);




	function onMapClick(e) {
    	popup
        	.setLatLng(e.latlng)
        	.setContent(geocode.describeLocation(e.result.best))
        	.openOn(map);
	}

map.on('click', onMapClick);

</script>	

</body>
</html>